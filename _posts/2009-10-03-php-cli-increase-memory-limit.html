---
layout: post
status: publish
published: true
title: PHP CLI increase memory limit
author:
  display_name: Cristian Radulescu
  login: cristian.radulescu
  email: cristian67@gmail.com
  url: http://cristian-radulescu.ro
author_login: cristian.radulescu
author_email: cristian67@gmail.com
author_url: http://cristian-radulescu.ro
excerpt: When running a PHP script from command line interface (CLI), a higher memory
  limit may be required in order for the script to be successfully executed. This
  can be achieved using the "-d" or "--define" option in the command
wordpress_id: 137
wordpress_url: http://cristian-radulescu.ro/?p=137
date: '2009-10-03 17:55:01 +0300'
date_gmt: '2009-10-03 15:55:01 +0300'
categories:
- Programming
- Windows
- Linux
- PHP
tags:
- web development
- PHP
- cli
comments:
- id: 659
  author: james
  author_email: james@sitebyjames.com
  author_url: http://www.sitebyjames.com
  date: '2011-02-13 00:43:55 +0200'
  date_gmt: '2011-02-12 22:43:55 +0200'
  content: "Life Saver!!!!\r\n\r\nI wish more people had a knack for writing things
    in a few short and sweet sentences."
- id: 691
  author: 'Yii and PHP:: Executed command line and memory limit &laquo; Kongsi-Kongsi'
  author_email: ''
  author_url: http://hafiznor.wordpress.com/2011/04/27/yii-and-php-executed-command-line-and-memory-limit/
  date: '2011-04-27 07:44:44 +0300'
  date_gmt: '2011-04-27 05:44:44 +0300'
  content: "[...] line, set this parameter at your executed line:php -d memory_limit=128M
    my_script.phpCredit to : http://cristian-radulescu.ro/article/php-cli-increase-memory-limit.htmlApply
    in Yii [...]"
- id: 715
  author: szako
  author_email: sacoka@gmail.com
  author_url: ''
  date: '2011-07-10 21:46:21 +0300'
  date_gmt: '2011-07-10 19:46:21 +0300'
  content: Thanks, was getting a headache already :-)
- id: 855
  author: iroybot
  author_email: erikpoehler@gmx.de
  author_url: http://www.erikpoehler.com
  date: '2013-01-07 19:58:11 +0200'
  date_gmt: '2013-01-07 17:58:11 +0200'
  content: or you can use -d memory_limit=-1 to unlimit the restriction.
- id: 919
  author: Cr1xus
  author_email: sergeyspivakov23@gmail.com
  author_url: ''
  date: '2014-06-27 10:32:54 +0300'
  date_gmt: '2014-06-27 08:32:54 +0300'
  content: Thank you! It already woks for me!
- id: 2272
  author: cgutteridge
  author_email: cjg@ecs.soton.ac.uk
  author_url: ''
  date: '2014-11-21 19:35:35 +0200'
  date_gmt: '2014-11-21 17:35:35 +0200'
  content: Thanks.
- id: 6083
  author: Anfa
  author_email: berezhn.eve@gmail.com
  author_url: ''
  date: '2015-04-01 09:48:38 +0300'
  date_gmt: '2015-04-01 07:48:38 +0300'
  content: You forgot a '_' in memory_limit in your post
- id: 6810
  author: Wordpress Memory Limit Increase | Fix How To
  author_email: ''
  author_url: http://komdir.info/wordpress-memory-limit-increase/
  date: '2015-06-24 21:45:46 +0300'
  date_gmt: '2015-06-24 19:45:46 +0300'
  content: "[&#8230;] PHP CLI increase memory limit | Cristian Radulescu &ndash; When
    running a PHP script from command line interface (CLI), a higher memory limit
    may be required in order for the script to be successfully executed. [&#8230;]"
- id: 7558
  author: Joe Kolade
  author_email: joe@joekola.de
  author_url: ''
  date: '2015-09-17 18:15:49 +0300'
  date_gmt: '2015-09-17 15:15:49 +0300'
  content: Safed my day. Thx.
- id: 8120
  author: naamenmohamed
  author_email: naamen.mohamed@gmail.com
  author_url: http://www.vann-web.com
  date: '2016-02-12 11:09:41 +0200'
  date_gmt: '2016-02-12 08:09:41 +0200'
  content: Like a boss (y)
- id: 8520
  author: JD Berkowityz
  author_email: jdberkowitz08@gmail.com
  author_url: http://www.c11media.com
  date: '2016-06-15 05:23:17 +0300'
  date_gmt: '2016-06-15 02:23:17 +0300'
  content: thanks it was a life saver today!
- id: 8549
  author: Daniil Belyakov
  author_email: danek2005@narod.ru
  author_url: https://www.facebook.com/app_scoped_user_id/1159528437400842/
  date: '2016-06-29 21:47:14 +0300'
  date_gmt: '2016-06-29 18:47:14 +0300'
  content: Amazing! Worked like a charm!
- id: 8593
  author: Spank Bank
  author_email: sca90spec@yahoo.com
  author_url: ''
  date: '2016-08-29 04:48:51 +0300'
  date_gmt: '2016-08-29 01:48:51 +0300'
  content: "If you wanted to set multiple directives, what would it look like? \r\nThanks"
- id: 8608
  author: Cristian Radulescu
  author_email: cristian67@gmail.com
  author_url: http://cristian-radulescu.ro
  date: '2016-09-12 19:19:59 +0300'
  date_gmt: '2016-09-12 16:19:59 +0300'
  content: "In this case you should create a custom <em>php.ini</em> file and pass
    it as option for the command. For example, create <em>myphp.ini</em> file and
    add your custom directives each on a line:\r\n<code>#myphp.ini\r\nmemory_limit
    = 128M\r\nmax_input_vars = 10</code>\r\n\r\nThen run the command like:\r\n<code>php
    -c myphp.ini my_script.php</code>"
- id: 8645
  author: Robert Johnson
  author_email: robertdanieljohnson@gmail.com
  author_url: ''
  date: '2016-11-17 12:23:12 +0200'
  date_gmt: '2016-11-17 09:23:12 +0200'
  content: Are these permanent changes to the php.ini or just temporary?
- id: 8646
  author: Cristian Radulescu
  author_email: cristian67@gmail.com
  author_url: http://cristian-radulescu.ro
  date: '2016-11-17 16:10:01 +0200'
  date_gmt: '2016-11-17 13:10:01 +0200'
  content: "The changes are temporary and are applied only to the executed script.
    \nIf you want to make permanent changes you need to edit the configuration file
    from the server (php.ini)."
---
<p><a href="http://www.php.net"><img class="size-full wp-image-138 alignleft" style="border: 0pt none; margin: 10px;" title="PHP logo" src="http://cristian-radulescu.ro/wp-content/uploads/2009/10/php.gif" alt="PHP logo" width="120" height="67" /></a></p>
<p>When running a PHP script from <a title="Using PHP from command line interface" href="http://www.php.net/manual/en/features.commandline.php" target="_blank" rel="noopener">command line interface</a> (CLI), a higher memory limit may be required in order for the script to be successfully executed. This can be achieved using the "<strong>-d</strong>" or "<strong>--define</strong>" option in the command. According to the manual:</p>
<blockquote><p>This option allows you to set a custom value for any of the configuration directives allowed in php.ini.</p></blockquote>
<p>An example of running a PHP script in CLI with custom memory limit:</p>
<pre class="theme:terminal lang:sh decode:true" title="Command">php -d memory_limit=128M my_script.php</pre>
<p>Of course the "<strong>-d</strong>" or "<strong>--define</strong>" option is not limited to the memory limit directive; it can be use to alter other php.ini directives as well.</p>
